# MHR——方案研究模块
方案研究是MHR项目三个主体模块之一，其他两个模块分别是分析统计、信息补充。

## 业务背景
人力资源管理工作中，办理人员职务晋升、调整交流、考核评价等工作时，管理部门通常需要进行方案研究，一般包括组织提名、机关审核、方案处理、文件下达等工作。这些工作具有相同的业务流程、相似的业务规则。为避免重复劳动、提供审核效率，有必要通过信息化手段完成方案研究工作。这项工作有三个特点：

* **种类较多。**从业务分类看，包括科技干部调整专业技术等级、专业技术资格评定、专业技术干部考评、人才奖评选、出国留学、培训送学、退休、调动等。每一类方案中还包括具体的细类，比如调整专业技术等级方案中包括正常调级、提前调级，还包括高职调级、中职调级等不同分类方式。
* **流程相同。**任何一类业务，都可以归纳选人、审核、方案处理、报表生成、回填数据库等五个固定的流程。
* **规则迥异。**尽管有相同的流程，但每个流程中，都有着不同的业务规则，这些规则包括准入条件、审核逻辑、报表模板、方案研究要素展示、数据回填办法。

以上已知的方案种类和业务规则，都有可能因为今后的政策调整而发生改变，也有可能为了满足不同机构个性化需求而发生调整。因此，**方案处理模块需要提供灵活健壮的规则定制能力。这一理念，还将贯穿MHR的全部设计之中。**

## 预期功能
基于以上业务背景，方案处理模块功能可以三个部分。一是方案流程，侧重于对业务过程。二是后台设置提供灵活的定制功能。此外，还需要一个方案展示的主页面。

* 方案流程：具有新建方案、选人、审核、处理、报表、数据回填五个功能。
根据有关政策要点建立审核逻辑并予以校验、录入各级机关研究的方案意见、生成公文和表格、按照研究结果回填CHR数据库。
  * 新建方案:
  * 选人：从CHR（上级指定使用的Oracle的MIS系统）的数据库中选定候选人。
  * 审核：
  * 处理：排序、筛选、编辑、分类、修改展示页面。
  * 报表：
  * 回填：
* 后台设置：对应选人功能，提供。
  * **方案分类：**提供方案大类和方案细类两项设置，细类隶属于大类。建立方案大类时，应提供代号、名称、业务种类等字段，以下的准入条件、审核逻辑、列表设置、报表模板均要根据不同的**方案大类**分别设置。方案细类提供代号、名称、从属大类即可。
  * **准入条件：**
  * **审核逻辑：**
  * **列表设置：**
  * **报表模板：**
  * **用户权限：**
  * **CHR数据连接设置：**CHR数据库是独立于MHR的系统，因此，为了完成选人、回填数据库两项功能，必须建立于CHR的oracle数据库连接。由于每个机构的数据库都是局域网中的某台服务器，甚至每个机构的一台服务器中包括多个oracle实例，因此，通过CHR连接设置可以实现数据源的切换。**设置界面提供IP地址、TNSname两种方式进行连接。**
* 方案展示：用于展示、分类
* 网站基本功能：
  * 用户注册：
  * 全文检索：检索范围设定，用户权限可见性

开发时，只针对一个大类业务处理，即专业技术干部调整专业技术等级。涉及的逻辑规则全部通过后台设置的方式设计，这是该模块的主要特点，可以适应未来政策调整带来的规则变化。


## URL映射和线框图
* /proposql/index.html 显示所有用户，提供新建方案、维护方案、方案分类功能，同时导航菜单、用户登陆、全局搜索功能也在该页面中体现。
* /proposql/createproposql 
* /proposql/multipleproposql
* /dashboard/proposql/ 


## Demo
网址：http://123.207.161.77